#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBDEND


record(bi, Cryo-Linde-status) {
  field(DTYP, "S7plc stat")
  field(INP, "@Cryo-Linde")
  field(SCAN, "I/O Intr")
  field(ZNAM, "disconnected")
  field(ONAM, "connected")
  field(ZSV, "MAJOR")
  field(FLNK, "Cryo-Linde-status-counter")
}

record(calc, Cryo-Linde-status-counter) {
  field(INPA, "Cryo-Linde-status-counter")
  field(CALC, "A+1")
  field(FLNK, "Cryo-Linde-disconnect-counter")
}

record(calc, s7-send-counter) {
  field(INPA, "s7-send-counter")
  field(CALC, "A+1")
  field(FLNK, "s7-counter-fanout")
}

record(fanout, s7-counter-fanout) {
  field(LNK1, "Cryo-PLC:RES1")
  field(LNK2, "s7-sendErr-counter")
}

record(calc, s7-sendErr-counter) {
  field(INPA, "s7-sendErr-counter")
  field(INPB, "Cryo-Linde-status")
#   field (INPC, "s7-send-counter")
  field(CALC, "B?A:A+1")
  field(FLNK, "Cryo-PLC:RES2")
}

record(calc, Cryo-Linde-disconnect-counter) {
  field(INPA, "Cryo-Linde-status")
  field(INPB, "Cryo-Linde-disconnect-counter.LA")
  field(INPC, "Cryo-Linde-disconnect-counter")
  field(CALC, "(A=0&&B=1)?C+1:C")
}

record(ao, Cryo-PLC:RES1) {
  field(DESC, "Send buffer counter")
  field(DTYP, "S7plc")
  field(OUT, "@Cryo-Linde/0 T=UINT16")
  field(DOL, "s7-send-counter")
  field(OMSL, "closed_loop")
  field(DRVL, "0")
  field(DRVH, "0xFFFF")
  field(PINI, "YES")
}

record(ao, Cryo-PLC:RES2) {
  field(DESC, "Send Error buffer counter")
  field(DTYP, "S7plc")
  field(OUT, "@Cryo-Linde/2 T=UINT16")
  field(DOL, "s7-sendErr-counter")
  field(OMSL, "closed_loop")
  field(DRVL, "0")
  field(DRVH, "0xFFFF")
  field(PINI, "YES")
}

record(waveform, Cryo-PLC:PLCSend:Buffer) {
  field(DTYP, "S7plc")
  field(INP, "@Cryo-Linde/0 T=UINT16")
  field(FTVL, "SHORT")
  field(NELM, "1000")
  field(SCAN, "I/O Intr")
}

record(event, One-second-event) {
  field(DESC, "Trigger for the plot update")
  field(DTYP, "Soft Channel")
  field(SCAN, "1 second")
  field(VAL, "1")
}

# longin record total running times
record(longin, Cryo-Cmp:C1:TotOpTm) {
  field(DESC, "Total Operating Time")
  field(EGU, "h")
  field(DTYP, "S7plc")
  field(INP, "@Cryo-Linde/800 T=INT32")
  field(SCAN, "I/O Intr")
  field (SIMS, "INVALID")
}

record(longin, Cryo-Cmp:C1:ActOpTm) {
  field(DESC, "Total Operating Time since the start")
  field(EGU, "h")
  field(DTYP, "S7plc")
  field(INP, "@Cryo-Linde/804 T=INT32")
  field(SCAN, "I/O Intr")
  field (SIMS, "INVALID")
}
record(stringin, Cryo-Regen:Ads80K:StaInf) {
  field(DTYP, "S7plc")
  field(INP, "@Cryo-Linde/1150 L=32")
  field(SCAN, "I/O Intr")
  field (SIMS, "INVALID")
}


record (ai, "Cryo-CBox:LN2:PDI3685") {
  field (DESC, "Coldbox:LN2 diff pressure")
  field (EGU, "mbar")
  field (PREC, "4")
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/48 T=FLOAT")
  field (SCAN, "I/O Intr")
  field (FLNK, "Cryo-CBox:LN2:LI3685-PercOut")
  field (SIMS, "INVALID")
}

record (calc, "Cryo-CBox:LN2:LI3685-PercOut") {
  field (DESC, "Rec:Coldbox LN2 level")
  field (EGU, "%")
  field (PREC, "4")
  field (INPA, "Cryo-CBox:LN2:PDI3685")
  field (CALC, "100*A/496")
}

record(mbbi, "Cryo-Rec:LP:BalloonLevel") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/11 T=BYTE")
  field (SCAN, "I/O Intr")
  field (NOBT, "4")
  field (ZRVL, "0")
  field (ONVL, "1")
  field (THVL, "3")
  field (SVVL, "7")
  field (FFVL, "15")
  field (ZRST, "Too low")
  field (ONST, "Low")
  field (THST, "Normal")
  field (SVST, "High")
  field (FFST, "Too high")
  field (UNSV, "MINOR")
  field (DESC, "Balloon level Visual State")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Cryo-CBox:Ads80K:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/1430 T=BYTE")
  field (SCAN, "I/O Intr") 
  field (NOBT, "8") 
  field (ZRVL, "1")
  field (ONVL, "2")
  field (TWVL, "4")
  field (THVL, "8")
  field (FRVL, "16")
  field (FVVL, "32")
  field (SXVL, "64")
  field (SVVL, "128") 
  field (ZRST, "INIT")
  field (ONST, "PRESSURIZE")
  field (TWST, "COOLDOWN")
  field (THST, "ADSORPTION")
  field (FRST, "PARALLEL")
  field (FVST, "ISOLATION")
  field (SXST, "DEPRESS")
  field (SVST, "MANUAL")
  field (UNSV, "MINOR")
  field (DESC, "Ads80K Visual State")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Cmp:C1:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/612 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")   
  field (ZRST, "OFF") 
  field (ONST, "STARTUP")
  field (TWST, "ON")
  field (THST, "OFF")
  field (FRST, "FAULT")
  field (SIMS, "INVALID")
}
record(mbbi, "Cryo-MCD:MCD:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/632 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")   
  field (ZRST, "Off") 
  field (ONST, "Await pres stabl")
  field (TWST, "Purge")
  field (THST, "Measuring")  
  field (UNSV, "MINOR")
  field (DESC, "MCD visual state")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-HP:DisChrgRec:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/642 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")   
  field (ZRST, "Off")  
  field (ONST, "buffer active")
  field (TWST, "recovery selected")
  field (THST, "recovery on")
  field (FRST, "recovery active")
  field (UNSV, "MINOR")
  field (DESC, "Discharge in")
  field (SIMS, "INVALID")
}
record(mbbi, "Cryo-CBox:CoolMode:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/652 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")   
  field (FVVL, "5")
  field (SXVL, "6")  
  field (ZRST, "Off") 
  field (ONST, "On")
  field (TWST, "Cooldown")
  field (THST, "Liquifying")
  field (FRST, "")  
  field (FVST, "Trip")
  field (FVSV, "MAJOR")
  field (SXST, "LN2 ilk active")
  field (SXSV, "MAJOR")
  field (UNSV, "MINOR")
  field (DESC, "Coolmode visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-CBox:WarmUpMode:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/662 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")  
  field (ZRST, "Off") 
  field (ONST, "On")
  field (TWST, "WU completed")
  field (UNSV, "MINOR")
  field (DESC, "Warm-up mode visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-CBox:LN2:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/672 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")   
  field (ZRST, "Off") 
  field (ONST, "Selected")
  field (TWST, "Cooldown")
  field (THST, "On")
  field (FRST, "Shutdown")
  field (UNSV, "MINOR")
  field (DESC, "LN2 visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-CBox:LN2-IlkTu:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/682 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")   
  field (ZRST, "Off") 
  field (ONST, "Selected")
  field (TWST, "Active")
  field (THST, "Finish")
  field (UNSV, "MINOR")
  field (DESC, "Interlock turbines visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Dwr:Htr:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/692 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")
  field (FVVL, "5")   
  field (ZRST, "Off") 
  field (ONST, "Locked")
  field (TWST, "Selected")
  field (THST, "Level too low")
  field (FRST, "Pressure too high")  
  field (FVST, "Heater on")
  field (UNSV, "MINOR")
  field (DESC, "Dewar heater visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-VacSys:VacSys:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/702 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4")
  field (FVVL, "5")   
  field (ZRST, "Off") 
  field (ONST, "On-pump active")
  field (TWST, "On-pump active")
  field (THST, "On-standby")
  field (FRST, "On-cryo pump")
  field (FVST, "Selected")
  field (UNSV, "MINOR")
  field (DESC, "VacSys visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Pur:Pur:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/712 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4") 
  field (FVVL, "5")
  field (SXVL, "6")
  field (SVVL, "7")
  field (EIVL, "8")  
  field (ZRST, "Off") 
  field (ONST, "Cooldown")
  field (TWST, "Recooling")
  field (THST, "Purge")
  field (FRST, "Standby") 
  field (FVST, "Purify")
  field (SXST, "Regeneration")
  field (SVST, "Alarm")
  field (EIST, "Selected")
  field (SVSV, "MAJOR")
  field (UNSV, "MINOR")
  field (DESC, "Purifier visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Cbox:Tu1:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/684 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4") 
  field (FVVL, "5")
  field (SXVL, "6")
  field (SVVL, "7")
  field (EIVL, "8")  
  field (ZRST, "Off") 
  field (ONST, "")
  field (TWST, "")
  field (THST, "")
  field (FRST, "") 
  field (FVST, "")
  field (SXST, "")
  field (SVST, "")
  field (EIST, "")
  field (UNSV, "MINOR")
  field (DESC, "Tu 1 visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Cbox:Tu2:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/686 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4") 
  field (FVVL, "5")
  field (SXVL, "6")
  field (SVVL, "7")
  field (EIVL, "8")  
  field (ZRST, "Off") 
  field (ONST, "")
  field (TWST, "")
  field (THST, "")
  field (FRST, "") 
  field (FVST, "")
  field (SXST, "")
  field (SVST, "")
  field (EIST, "")
  field (UNSV, "MINOR")
  field (DESC, "Tu 2 visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-ICn:PmsTI5220:VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/714 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4") 
  field (FVVL, "5")
  field (SXVL, "6")
  field (SVVL, "7")
  field (EIVL, "8")  
  field (ZRST, "") 
  field (ONST, "")
  field (TWST, "Permissive")
  field (THST, "")
  field (FRST, "") 
  field (FVST, "")
  field (SXST, "")
  field (SVST, "")
  field (EIST, "")
  field (UNSV, "MINOR")
  field (DESC, "PmsTI5220 visual states")
  field (SIMS, "INVALID")
}

record(mbbi, "Cryo-Rec:LP:GasBag_VisuState") {
  field (DTYP, "S7plc")
  field (INP,  "@Cryo-Linde/716 T=INT16")
  field (SCAN, "I/O Intr") 
  field (NOBT, "16") 
  field (ZRVL, "0")
  field (ONVL, "1")
  field (TWVL, "2")
  field (THVL, "3")
  field (FRVL, "4") 
  field (FVVL, "5")
  field (SXVL, "6")
  field (SVVL, "7")
  field (EIVL, "8")  
  field (ZRST, "Ready") 
  field (ONST, "State 1")
  field (TWST, "State 2")
  field (THST, "State 3")
  field (FRST, "State 4") 
  field (FVST, "State 5")
  field (SXST, "State 6")
  field (SVST, "State 7")
  field (EIST, "State 8")
  field (UNSV, "MINOR")
  field (DESC, "Gas bag visual states")
  field (SIMS, "INVALID")
}

record (calc, "Cryo-CBox:Pur:PurOffAlrm-calc") {
  field(INPA, "Cryo-Pur:Pur:SwOnStat")
  field(INPB, "Cryo-CBox:CoolMode:VisuState")
  field(CALC, "(A=0)&&(B#0)?1:0")
  field(SCAN, "1 second")
  field(FLNK, "Cryo-CBox:Pur:PurOffAlrm")
}

record (bi, "Cryo-CBox:Pur:PurOffAlrm") {
  field(DESC, "Alarm: Purifier Off")
  field(INP, "Cryo-CBox:Pur:PurOffAlrm-calc")
  field(ZNAM, "OK")
  field(ONAM, "Purifier Off")
  field(OSV, "MAJOR")
  field (SIMS, "INVALID")
}

record(calc, "Cryo-Cmp:HP:PI2170-Alrm") {
  field (SCAN, "1 second")
  field (DESC,"Alarm: Pur pressure too low")
  field (INPA, "Cryo-Cmp:HP:PI2170.SEVR")
  field (INPB, "Cryo-CBox:CoolMode:VisuState")
  field (INPC, "Cryo-Pur:Pur:VisuState")
  field (LOW, "-0.5")
  field (LOLO, "-1.5")
  field (LSV, "MINOR")
  field (LLSV, "MAJOR")
  field (CALC, "((B=2)||(B=3))&&(C>0)&&(C<7)?-A:0")
}

# Cryo-Pur:Pur:SwOnStat
# Cryo-CBox:CoolMode:VisuState

#! Further lines contain data used by VisualDCT
#! View(0,0,0.9)
#! Record(Cryo-Linde-status,140,105,0,0,"Cryo-Linde-status")
#! Field("Cryo-Linde-status.FLNK",16777215,0,"Cryo-Linde-status.FLNK")
#! Link("Cryo-Linde-status.FLNK",Cryo-Linde-status-counter)
#! Field("Cryo-Linde-status.VAL",16777215,1,"Cryo-Linde-status.VAL")
#! Record(Cryo-Linde-status-counter,140,442,0,0,"Cryo-Linde-status-counter")
#! Field("Cryo-Linde-status-counter.VAL",16777215,0,"Cryo-Linde-status-counter.VAL")
#! Field("Cryo-Linde-status-counter.INPA",16777215,0,"Cryo-Linde-status-counter.INPA")
#! Link("Cryo-Linde-status-counter.INPA","Cryo-Linde-status-counter.VAL")
#! Field("Cryo-Linde-status-counter.FLNK",16777215,1,"Cryo-Linde-status-counter.FLNK")
#! Link("Cryo-Linde-status-counter.FLNK",Cryo-Linde-disconnect-counter)
#! Record(s7-send-counter,440,122,0,0,"s7-send-counter")
#! Field("s7-send-counter.VAL",16777215,1,"s7-send-counter.VAL")
#! Field("s7-send-counter.INPA",16777215,0,"s7-send-counter.INPA")
#! Link("s7-send-counter.INPA","s7-send-counter.VAL")
#! Field("s7-send-counter.FLNK",16777215,1,"s7-send-counter.FLNK")
#! Link("s7-send-counter.FLNK",s7-counter-fanout)
#! Record(s7-counter-fanout,800,376,0,0,"s7-counter-fanout")
#! Field("s7-counter-fanout.LNK1",16777215,1,"s7-counter-fanout.LNK1")
#! Link("s7-counter-fanout.LNK1",Cryo-PLC:RES1)
#! Field("s7-counter-fanout.LNK2",16777215,1,"s7-counter-fanout.LNK2")
#! Link("s7-counter-fanout.LNK2",s7-sendErr-counter)
#! Record(s7-sendErr-counter,1060,427,0,0,"s7-sendErr-counter")
#! Field("s7-sendErr-counter.VAL",16777215,1,"s7-sendErr-counter.VAL")
#! Field("s7-sendErr-counter.INPA",16777215,0,"s7-sendErr-counter.INPA")
#! Link("s7-sendErr-counter.INPA","s7-sendErr-counter.VAL")
#! Field("s7-sendErr-counter.INPB",16777215,0,"s7-sendErr-counter.INPB")
#! Link("s7-sendErr-counter.INPB","Cryo-Linde-status.VAL")
#! Field("s7-sendErr-counter.FLNK",16777215,1,"s7-sendErr-counter.FLNK")
#! Link("s7-sendErr-counter.FLNK",Cryo-PLC:RES2)
#! Record(Cryo-Linde-disconnect-counter,480,527,0,0,"Cryo-Linde-disconnect-counter")
#! Field("Cryo-Linde-disconnect-counter.INPA",16777215,0,"Cryo-Linde-disconnect-counter.INPA")
#! Link("Cryo-Linde-disconnect-counter.INPA","s7-status.VAL")
#! Field("Cryo-Linde-disconnect-counter.LA",16777215,0,"Cryo-Linde-disconnect-counter.LA")
#! Field("Cryo-Linde-disconnect-counter.INPB",16777215,0,"Cryo-Linde-disconnect-counter.INPB")
#! Link("Cryo-Linde-disconnect-counter.INPB","Cryo-Linde-disconnect-counter.LA")
#! Field("Cryo-Linde-disconnect-counter.VAL",16777215,0,"Cryo-Linde-disconnect-counter.VAL")
#! Field("Cryo-Linde-disconnect-counter.INPC",16777215,0,"Cryo-Linde-disconnect-counter.INPC")
#! Link("Cryo-Linde-disconnect-counter.INPC","Cryo-Linde-disconnect-counter.VAL")
#! Record(Cryo-PLC:RES1,840,50,0,1,"Cryo-PLC:RES1")
#! Field("Cryo-PLC:RES1.DOL",16777215,0,"Cryo-PLC:RES1.DOL")
#! Link("Cryo-PLC:RES1.DOL","s7-send-counter.VAL")
#! Record(Cryo-PLC:RES2,1340,370,0,0,"Cryo-PLC:RES2")
#! Field("Cryo-PLC:RES2.DOL",16777215,0,"Cryo-PLC:RES2.DOL")
#! Link("Cryo-PLC:RES2.DOL","s7-sendErr-counter.VAL")
#! Record(Cryo-PLC:PLCSend:Buffer,320,794,0,0,"Cryo-PLC:PLCSend:Buffer")
#! Record(One-second-event,100,787,0,0,"One-second-event")
#! Record(Cryo-Cmp:C1:TotOpTm,620,794,0,0,"Cryo-Cmp:C1:TotOpTm")
#! Record(Cryo-Cmp:C1:ActOpTm,620,934,0,0,"Cryo-Cmp:C1:ActOpTm")
